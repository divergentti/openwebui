<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>OpenWebUI + Ollama hienosäätöä</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">OpenWebUI + Ollama hienosäätöä</h1>
</header>
<section data-field="subtitle" class="p-summary">
Tässä oppaassa käsitellään muutamia Ollaman ja OpenWebUIn asetuksia, jotka auttavat optimoimaan ohjelmistojen toimintaa eri…
</section>
<section data-field="body" class="e-content">
<section name="54ea" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="c453" id="c453" class="graf graf--h3 graf--leading graf--title">OpenWebUI + Ollama hienosäätöä</h3><p name="eb23" id="eb23" class="graf graf--p graf-after--h3">Tässä oppaassa käsitellään muutamia Ollaman ja OpenWebUIn asetuksia, jotka auttavat optimoimaan ohjelmistojen toimintaa eri käyttötarkoituksissa.</p><p name="bae6" id="bae6" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Ollama</strong> on tehokas työkalu LLM-mallien käyttämiseksi. Malleja alkaa olla hyvin saatavilla ja tällä hetkellä mielenkiintoisin on Metan LLama3.2. Kaikki Ollamaan ladattavat mallit löydät t<a href="https://ollama.com/search" data-href="https://ollama.com/search" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ästä</a>.</p><p name="cbea" id="cbea" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">OpenWebUI</strong> puolestaan mahdollistaa web-käyttöliittymän kautta tapahtuvan vuorovaikutuksen mm. Ollaman ja muiden taustaprosessien kanssa, mikä tekee siitä erinomaisen työkalun vaikkapa henkilökohtaiseksi avustajaksi. Koska mallit ladataan omalle koneelle, ei tietoa vaihdeta, ellet erikseen asetuksissa niin määrittele, ulkoisille palvelimille. OpenWebUI:n ominaisuuksia ja lisäosia löydät <a href="https://docs.openwebui.com/" data-href="https://docs.openwebui.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">täältä</a>.</p><h3 name="9bc6" id="9bc6" class="graf graf--h3 graf-after--p">Hakukoneen valinta</h3><p name="4360" id="4360" class="graf graf--p graf-after--h3">Voit valita <a href="https://github.com/open-webui/open-webui" data-href="https://github.com/open-webui/open-webui" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">OpenWebUI:</a>ssa hakukoneeksi maksullisia hakukoneita, tai ilmaisen DuckDuckGO:n. Maksullisista on saatavilla myös ilmaisia versioita, joissa ilmaisien hakujen määrää on rajoitettu 100–2500 kuukaudessa. Niitä varten sinun pitää generoida API-avain. DuckDuckGO on moneen käyttöön riittävä, mutta jos tarvitset paljon tarkkoja hakuja, harkitse <a href="https://programmablesearchengine.google.com/about/" data-href="https://programmablesearchengine.google.com/about/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Google PSE</a>:tä.</p><p name="5273" id="5273" class="graf graf--p graf-after--p">Hakukonevaihtoehdot löydät Hallintapaneelista</p><figure name="00d7" id="00d7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Kz9LKf3Hx4XJbfqoo752lg.png" data-width="1920" data-height="360" src="https://cdn-images-1.medium.com/max/800/1*Kz9LKf3Hx4XJbfqoo752lg.png"><figcaption class="imageCaption">Hallintapaneelin hakukonevalinta</figcaption></figure><p name="b66a" id="b66a" class="graf graf--p graf-after--figure">Voit asettaa hakukoneen pysyvästi päälle promptin + - merkistä.</p><p name="7296" id="7296" class="graf graf--p graf-after--p">Mikäli haluat tuoda URL-osoitteen dokumenttina keskusteluun mukaan, käytä #-merkin jälkeen url-osoittetta kokonaisuudessaan. Esimerkiksi voit ladata web-sivun #https://yle.fi ja pyytää tietoja sivustolta.</p><figure name="b4e1" id="b4e1" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*sGu_gvgV-1bZGzyNUz6Knw.png" data-width="1533" data-height="911" src="https://cdn-images-1.medium.com/max/800/1*sGu_gvgV-1bZGzyNUz6Knw.png"></figure><h3 name="3bdc" id="3bdc" class="graf graf--h3 graf-after--figure">Dokumenttien ja hakujen parantaminen</h3><p name="38b9" id="38b9" class="graf graf--p graf-after--h3">OpenWebUI käyttää oletuksena SentenceTransformers-kirjastoa. Se kannattaa muuttaa käyttämään esimerkiksi Ollaman <a href="https://ollama.com/library/paraphrase-multilingual" data-href="https://ollama.com/library/paraphrase-multilingual" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">paraphrase-multilingual</a>- kirjastoa.</p><p name="45b7" id="45b7" class="graf graf--p graf-after--p">Suomenkielisistä paras lienee <a href="https://ollama.com/osoderholm/poro" data-href="https://ollama.com/osoderholm/poro" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Poro</a> joka asennetaan komennolla <code class="markup--code markup--p-code">ollama pull osoderholm/poro</code> mutta vaikka se toimisi esim. kotikoneen 12+ GB CUDA:lla, on malli aika hidas ja ei välttämättä hyödytä asettaa sitä oletukseksi.</p><blockquote name="6644" id="6644" class="graf graf--blockquote graf-after--p">Poro is a 34B parameter decoder-only transformer pretrained on Finnish, English and code. It is being trained on 1 trillion tokens. Poro is a fully open source model and is made available under the Apache 2.0 License.</blockquote><blockquote name="1442" id="1442" class="graf graf--blockquote graf-after--blockquote">Poro was created in a collaboration between <a href="https://www.silo.ai/silogen" data-href="https://www.silo.ai/silogen" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">SiloGen</a> from <a href="https://www.silo.ai/" data-href="https://www.silo.ai/" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">Silo AI</a>, the <a href="https://turkunlp.org/" data-href="https://turkunlp.org/" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">TurkuNLP group</a> of the University of Turku, and <a href="https://hplt-project.org/" data-href="https://hplt-project.org/" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">High Performance Language Technologies</a> (HPLT). Training was conducted on the <a href="https://www.lumi-supercomputer.eu/" data-href="https://www.lumi-supercomputer.eu/" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">LUMI supercomputer</a>, using compute resources generously provided by <a href="https://csc.fi/" data-href="https://csc.fi/" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">CSC</a> — IT Center for Science, Finland.</blockquote><blockquote name="f0b3" id="f0b3" class="graf graf--blockquote graf-after--blockquote">This project is part of an ongoing effort to create open source large language models for non-English and especially low resource languages like Finnish. Through the combination of English and Finnish training data we get a model that outperforms previous Finnish only models, while also being fluent in English and code, and capable of basic translation between English and Finnish.</blockquote><blockquote name="c17e" id="c17e" class="graf graf--blockquote graf-after--blockquote">Poro 34B is only the first model of our model family. Work is already underway on our next models which will support additional languages, and include features like flash attention, rotary embeddings, and grouped query attention.</blockquote><p name="4964" id="4964" class="graf graf--p graf-after--blockquote">Komentokehotteessa anna komento ollama pull paraphrase-multilingual ja latauksen jälkeen refreshaa OpenWebUI, jotta uusi malli näkyy valintalistoissa. Lopuksi muuta hallintapaneelista kohta Upotusmallin moottori: Ollama ja Upotusmalli paraphrase-multilingual.</p><figure name="594b" id="594b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*fbCrUjmzBgoD_ebnKee1BA.png" data-width="1653" data-height="350" src="https://cdn-images-1.medium.com/max/800/1*fbCrUjmzBgoD_ebnKee1BA.png"><figcaption class="imageCaption">Upotusmallin ja moottorin valinta</figcaption></figure><p name="b289" id="b289" class="graf graf--p graf-after--figure">Upotusmalli vaikuttaa myös siihen kuinka hyvin esimerkiksi pdf-tiedosto luetaan. Tässä esimerkissä olen ladannut 2.6MB pdf-tiedoston ja katson taustaprosessista millaisia asioita Ollama taustalla purkaa.</p><figure name="de78" id="de78" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*fbRDZkqQnlpW9NJPGis1Yg.png" data-width="939" data-height="795" src="https://cdn-images-1.medium.com/max/800/1*fbRDZkqQnlpW9NJPGis1Yg.png"><figcaption class="imageCaption">Ollama käymässä läpi pdf-tiedoston sisältöä</figcaption></figure><p name="1f07" id="1f07" class="graf graf--p graf-after--figure">Kun dokumentti on käyty läpi, LLM-malli on sen myös oppinut ja voit kysyä dokumentista tietoja, esimerkiksi pyytää yhteenvetoa.</p><figure name="3762" id="3762" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*K_6OoNPtnsz-qVfh7WJnsw.png" data-width="1143" data-height="587" src="https://cdn-images-1.medium.com/max/800/1*K_6OoNPtnsz-qVfh7WJnsw.png"></figure><h3 name="9674" id="9674" class="graf graf--h3 graf-after--figure">Kuvien tunnistaminen</h3><p name="9e68" id="9e68" class="graf graf--p graf-after--h3">Lataamalla Ollamaan esimerkiksi mallin llava-llama3 voit pyytää LLM:ää arvoimaan mitä kuvassa näkyy.</p><figure name="3dac" id="3dac" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*fIYRnIpaZbBtIvole3Vmvw.png" data-width="1131" data-height="897" src="https://cdn-images-1.medium.com/max/800/1*fIYRnIpaZbBtIvole3Vmvw.png"><figcaption class="imageCaption">Kuvatunnistus llava-llama3 mallilla</figcaption></figure><h3 name="fcb6" id="fcb6" class="graf graf--h3 graf-after--figure">ChatGPT-keskustelujen tuonti OpenWebUI</h3><p name="24f2" id="24f2" class="graf graf--p graf-after--h3">Voit tuoda ChatGPT:n kanssa käymäsi keskustelut OpenWebUI lataamalla ChatGPT:stä keskustelusi zip-tiedostoksi ja purkamalla tiedoston. Tarvitset conversations.json-tiedoston:</p><figure name="bd1d" id="bd1d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*WRQ7B9umWaSNYTzXcPertQ.png" data-width="733" data-height="138" src="https://cdn-images-1.medium.com/max/800/1*WRQ7B9umWaSNYTzXcPertQ.png"><figcaption class="imageCaption">ChatGPT conversations</figcaption></figure><p name="d219" id="d219" class="graf graf--p graf-after--figure">Asetukset (huom! ei hallinta-asetukset) sivulta voit tuoda ChatGPT:n kanssa käymäsi keskustelut historiatietoihisi.</p><figure name="22c9" id="22c9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Yf11k-B5wD40N1jx7_wpQQ.png" data-width="585" data-height="384" src="https://cdn-images-1.medium.com/max/800/1*Yf11k-B5wD40N1jx7_wpQQ.png"><figcaption class="imageCaption">Keskusteluiden tuonti OpenWebUI</figcaption></figure><h3 name="5cbe" id="5cbe" class="graf graf--h3 graf-after--figure">LLM personalisointi</h3><p name="834d" id="834d" class="graf graf--p graf-after--h3">Voit kertoa LLM:lle taustatietoja tai esimerkiksi mitä haluat nähdä lisäämällä muistia. Englanninkielisessä asetuksissa käytä sanaa User korvaamaan “me” tai “I”.</p><figure name="dff2" id="dff2" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*IPYNT61UpDQdL9ZQBeU77Q.png" data-width="762" data-height="373" src="https://cdn-images-1.medium.com/max/800/1*IPYNT61UpDQdL9ZQBeU77Q.png"></figure><p name="b618" id="b618" class="graf graf--p graf-after--figure">Esimerkki: “User prefer a conversational style in responses. During the ideation phase, user hope for a more philosophical approach, and in the final phase, more scientific with references and verification, but in a way that the verification does not undermine user’s idea or argument, even if it does not currently have scientific consensus. User typically use American English or Finnish. User like precise definitions, including Latin terms in medicine and taxonomies in biology.”</p><h3 name="f37b" id="f37b" class="graf graf--h3 graf-after--p">Puheentunnistus ja puheen tuottaminen</h3><p name="00db" id="00db" class="graf graf--p graf-after--h3">Voit valita äänen tunnistukseen ja puheen tuottoon käytetyn palvelun. Mikäli käytät Whisperiä, muista laittaa CUDA-tuki päälle Whisperille.</p><figure name="e463" id="e463" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*RyAraOCvtwTfEBSdNHefjA.png" data-width="1642" data-height="435" src="https://cdn-images-1.medium.com/max/800/1*RyAraOCvtwTfEBSdNHefjA.png"><figcaption class="imageCaption">Ääniasetukset</figcaption></figure><p name="68ad" id="68ad" class="graf graf--p graf-after--figure">Voit laittaa esimerkiksi netistä löytyvän podcastin tai minkä tahansa puhetta sisältävän lähetteen pyörimään taustalle ja muuntaa puheen tekstiksi. Englanniksi tämä toimii kohtalaisesti, suomeksi aika heikosti vielä tässä vaiheessa. Muista antaa webselaimelle (url-rivillä punainen mikrofoni) oikein käyttää äänilähdettä.</p><figure name="f143" id="f143" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*jSx7PqrkiBaz9q56nJOmcQ.png" data-width="1392" data-height="943" src="https://cdn-images-1.medium.com/max/800/1*jSx7PqrkiBaz9q56nJOmcQ.png"><figcaption class="imageCaption">Äänen tallentaminen ja tunnistaminen</figcaption></figure><p name="474e" id="474e" class="graf graf--p graf-after--figure">Muista päivittää ajoittain sekä Ollama että OpenWebUI. Tätä kirjoittaessa Ollama on versiossa 0.3.12 ja OpenWebUI versiossa 0.3.30. Kuten versiointi kertoo, ollaan vielä aika alussa ja voit odottaa paljon kehitystä lähiaikoina!</p><p name="bb2a" id="bb2a" class="graf graf--p graf-after--p">Nautinnollisia hetkiä LLM:n kanssa!</p><figure name="d924" id="d924" class="graf graf--figure graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*3Gg1DB4oMiZz7Wja-7FwKA.png" data-width="1024" data-height="768" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*3Gg1DB4oMiZz7Wja-7FwKA.png"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@jari.p.hiltunen" class="p-author h-card">Jari Hiltunen</a> on <a href="https://medium.com/p/a6e51d6751af"><time class="dt-published" datetime="2024-09-30T08:54:12.907Z">September 30, 2024</time></a>.</p><p><a href="https://medium.com/@jari.p.hiltunen/openwebui-ollama-hienos%C3%A4%C3%A4t%C3%B6%C3%A4-a6e51d6751af" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on January 26, 2025.</p></footer></article></body></html>