<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>OpenWebUI Install with NVIDIA CUDA Support and without Docker</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">OpenWebUI Install with NVIDIA CUDA Support and without Docker</h1>
</header>
<section data-field="subtitle" class="p-summary">
This article provides a clear, step-by-step approach to configuring OpenWebUI to leverage GPU acceleration
</section>
<section data-field="body" class="e-content">
<section name="37fb" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="5c40" id="5c40" class="graf graf--h3 graf--leading graf--title">OpenWebUI Install with NVIDIA CUDA Support and without Docker</h3><h3 name="02c5" id="02c5" class="graf graf--h3 graf-after--h3"><strong class="markup--strong markup--h3-strong">Introduction</strong></h3><p name="7fff" id="7fff" class="graf graf--p graf-after--h3">Yesterday, <a href="https://medium.com/@jari.p.hiltunen/fun-with-ollama-and-webui-a397caf3ea11" data-href="https://medium.com/@jari.p.hiltunen/fun-with-ollama-and-webui-a397caf3ea11" class="markup--anchor markup--p-anchor" target="_blank">I encountered issues</a> with setting up OpenWebUI using Docker and NVIDIA CUDA. To address this, I’ve prepared a straightforward guide for installing OpenWebUI with NVIDIA CUDA support without Docker. This article provides a clear, step-by-step approach to configuring OpenWebUI to leverage GPU acceleration, avoiding the complications experienced with Docker.</p><p name="ec57" id="ec57" class="graf graf--p graf-after--p">Read <a href="https://docs.openwebui.com/getting-started/" data-href="https://docs.openwebui.com/getting-started/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">getting started instructions</a> and read MANUAL INSTALLATION.</p><h4 name="9bfd" id="9bfd" class="graf graf--h4 graf-after--p">Prerequisites</h4><ol class="postList"><li name="af56" id="af56" class="graf graf--li graf-after--h4"><strong class="markup--strong markup--li-strong">Ubuntu 24.04 LTS</strong>: Ensure that your system is running Ubuntu 24.04 LTS or as an example Linux Mint wilma.</li><li name="c04b" id="c04b" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">NVIDIA GPU</strong>: A compatible NVIDIA GPU with CUDA support.</li><li name="0362" id="0362" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Python 3.11</strong>: Ensure Python 3.11 is installed on your system.</li><li name="6c4d" id="6c4d" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Virtual Environment</strong>: A Python virtual environment for managing dependencies.</li></ol><h3 name="2369" id="2369" class="graf graf--h3 graf-after--li">Step 1: Install NVIDIA Drivers and CUDA Toolkit</h3><p name="5cec" id="5cec" class="graf graf--p graf-after--h3">To automatically install NVIDIA drivers and the CUDA Toolkit, follow these steps:</p><p name="469d" id="469d" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Update Package List and Install Drivers</strong>: Open a terminal and run the following commands to update your package list, install the NVIDIA drivers, and reboot your system:</p><pre data-code-block-mode="0" spellcheck="false" name="60e3" id="60e3" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">sudo apt update<br>sudo ubuntu-drivers autoinstall<br>sudo reboot</span></pre><p name="1e62" id="1e62" class="graf graf--p graf-after--pre">The <code class="markup--code markup--p-code">ubuntu-drivers autoinstall</code> command will automatically detect and install the appropriate NVIDIA drivers for your GPU.</p><p name="c1c0" id="c1c0" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Install CUDA Toolkit</strong>: After rebooting, install the CUDA Toolkit:</p><p name="5ed1" id="5ed1" class="graf graf--p graf-after--p">sudo apt install nvidia-cuda-toolkit</p><p name="2004" id="2004" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Verify Installation</strong>: Check if CUDA and the NVIDIA drivers are installed correctly by running:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="css" name="c9b2" id="c9b2" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">nvcc <span class="hljs-attr">--version</span></span></pre><p name="ccb4" id="ccb4" class="graf graf--p graf-after--pre">Ensure that the <code class="markup--code markup--p-code">nvidia-smi</code> command shows your GPU information:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="typescript" name="487b" id="487b" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">nvidia-smi</span></pre><figure name="2eee" id="2eee" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*1YMezJFENpzjxWZKUhC-AQ.png" data-width="732" data-height="352" src="https://cdn-images-1.medium.com/max/800/1*1YMezJFENpzjxWZKUhC-AQ.png"><figcaption class="imageCaption">CUDA 12.4 and NVIDIA 550 drivers</figcaption></figure><p name="424c" id="424c" class="graf graf--p graf-after--figure">If needed, install NVIDIA Container Toolkit by <a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html?source=post_page-----a397caf3ea11--------------------------------" data-href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html?source=post_page-----a397caf3ea11--------------------------------" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">following this document</a> part “Installing with Apt” items 1, 2 and 3.</p><h3 name="c39a" id="c39a" class="graf graf--h3 graf-after--p">Step 2: Set Up Python Virtual Environment</h3><p name="0607" id="0607" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">Create a Virtual Environment</strong>: Navigate to your desired installation directory and create a virtual environment:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="bash" name="be2f" id="be2f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><br /><span class="hljs-comment"># Make directory</span><br /><span class="hljs-built_in">mkdir</span> -p /opt/open-webui<br /><span class="hljs-comment"># Change ownership</span><br />sudo <span class="hljs-built_in">chown</span> -R username:yourgroup /opt/open-webui (your username)<br />sudo <span class="hljs-built_in">chmod</span> -R u+rwx /opt/open-webui<br /><span class="hljs-built_in">cd</span> /opt/open-webui<br />sudo apt install build-essential libssl-dev libffi-dev python3-dev<br /><span class="hljs-comment">## this part if you do not have Python3.11 already </span><br /><span class="hljs-comment">## (Ubuntu 24.04LTS comes with Python3.12 and is too new)</span><br />sudo add-apt-repository ppa:deadsnakes/ppa<br />sudo apt update<br />sudo apt install python3.11 python3.11-venv python3.11-dev<br /><span class="hljs-comment">## if you prefer Python3.10: sudo apt install python3.10 python3.10-venv python3.10-dev)</span><br /><br /><span class="hljs-comment"># Installing Python virtual environment</span><br />python3.11 -m venv venv<br /><span class="hljs-comment"># python3.10 -m venv venv if you prefer Python3.10</span><br /><br /><span class="hljs-comment"># Activate virtual environment, do this always before you add or change </span><br /><span class="hljs-built_in">source</span> venv/bin/activate<br />pip install - - upgrade pip<br />pip install ffmpeg</span></pre><p name="68e7" id="68e7" class="graf graf--p graf-after--pre"><a href="https://docs.python.org/3/library/venv.html" data-href="https://docs.python.org/3/library/venv.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Instructions</a> about Python virtual enviroment.</p><p name="9de7" id="9de7" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Activate the Virtual Environment</strong>:</p><p name="b5f0" id="b5f0" class="graf graf--p graf-after--p">Remember always activate your virtual environment before making changes setup-wise, no system-wise:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="bash" name="275d" id="275d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-built_in">source</span> venv/bin/activate</span></pre><p name="6c23" id="6c23" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">Install OpenWebUI and Dependencies</strong>: With the virtual environment activated, install OpenWebUI and other required packages:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="lua" name="cca8" id="cca8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">pip install <span class="hljs-built_in">open</span>-webui<br /><br />(updating pip install <span class="hljs-built_in">open</span>-webui <span class="hljs-comment">--upgrade) rememer to keep venv active!</span></span></pre><figure name="505f" id="505f" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*cMdkcj4Hlz_eu2KfPQizVw.png" data-width="870" data-height="470" src="https://cdn-images-1.medium.com/max/800/1*cMdkcj4Hlz_eu2KfPQizVw.png"><figcaption class="imageCaption">Completed pip install — this take a while</figcaption></figure><h3 name="8592" id="8592" class="graf graf--h3 graf-after--figure">Step 3: Configure OpenWebUI for CUDA</h3><p name="67bc" id="67bc" class="graf graf--p graf-after--h3">Create a script to set the environment variables and start OpenWebUI. Save the following as <code class="markup--code markup--p-code">start_openwebui.sh</code>:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="bash" name="5713" id="5713" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-meta">#!/bin/bash</span><br /><span class="hljs-comment"># Change to the OpenWebUI directory</span><br /><span class="hljs-built_in">cd</span> /opt/open-webui || <span class="hljs-built_in">exit</span><br /><span class="hljs-comment"># Activate the virtual environment</span><br /><span class="hljs-built_in">source</span> venv/bin/activate<br /><span class="hljs-comment"># Set environment variable for CUDA support</span><br /><span class="hljs-built_in">export</span> USE_CUDA_DOCKER=True<br /><span class="hljs-comment"># Start OpenWebUI</span><br />open-webui serve</span></pre><p name="7e1b" id="7e1b" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">Make the Script Executable</strong>:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="bash" name="5387" id="5387" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-built_in">chmod</span> +x /opt/open-webui/start_openwebui.sh</span></pre><p name="0eb1" id="0eb1" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">Optional: Create a Desktop Shortcut</strong>: Create a desktop entry to easily run the script from your desktop. Save the following as <code class="markup--code markup--p-code">start_openwebui.desktop</code> on your desktop:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="ini" name="751b" id="751b" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-section">[Desktop Entry]</span><br /><span class="hljs-attr">Name</span>=Start Open WebUI<br /><span class="hljs-attr">Comment</span>=Starts Open WebUI with GPU support<br /><span class="hljs-attr">Exec</span>=/opt/open-webui/start_openwebui.sh<br /><span class="hljs-attr">Icon</span>=/opt/open-webui/icon.png<br /><span class="hljs-attr">Terminal</span>=<span class="hljs-literal">true</span><br /><span class="hljs-attr">Type</span>=Application</span></pre><p name="df89" id="df89" class="graf graf--p graf-after--pre">Make the desktop entry executable:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="bash" name="9249" id="9249" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-built_in">chmod</span> +x ~/Desktop/start_openwebui.desktop</span></pre><p name="d5d9" id="d5d9" class="graf graf--p graf-after--pre">With these steps, you should have a fully functional OpenWebUI setup with NVIDIA CUDA support, and an easy way to start it from your desktop.</p><figure name="856c" id="856c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*zjBHF9nBKsZeTM0bOiPunQ.png" data-width="870" data-height="470" src="https://cdn-images-1.medium.com/max/800/1*zjBHF9nBKsZeTM0bOiPunQ.png"><figcaption class="imageCaption">Open WebUI started and serving at port 8080 locally</figcaption></figure><p name="1b5d" id="1b5d" class="graf graf--p graf-after--figure">CUDA is enabled if you see INFO [open_webui.apps.audio.main] whisper_device_type: cuda</p><p name="faac" id="faac" class="graf graf--p graf-after--p">Check <a href="https://docs.openwebui.com/getting-started/env-configuration" data-href="https://docs.openwebui.com/getting-started/env-configuration" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">environment variables</a> for your script:</p><ul class="postList"><li name="0d6d" id="0d6d" class="graf graf--li graf-after--p">if you would like to restrict who can access Open WebUI, set CORS_ALLOW_ORIGIN = ‘<a href="https://your-allowed-origin.com%27" data-href="https://your-allowed-origin.com&#39;" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://your-allowed-origin.com&#39;</a></li><li name="b2e1" id="b2e1" class="graf graf--li graf-after--li">export USER_AGENT=”your-user-agent-string” if you develop further</li></ul><figure name="3968" id="3968" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*tBVv29Pm12ykHtPQVMeAAQ.png" data-width="1631" data-height="602" src="https://cdn-images-1.medium.com/max/800/1*tBVv29Pm12ykHtPQVMeAAQ.png"><figcaption class="imageCaption">Open WebUI frontend</figcaption></figure><figure name="73c6" id="73c6" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*XOsuViFjAZs2zqdS4yrnNA.png" data-width="519" data-height="421" src="https://cdn-images-1.medium.com/max/800/1*XOsuViFjAZs2zqdS4yrnNA.png"><figcaption class="imageCaption">Using Ollama &amp; OpenAI models together (with API keys)</figcaption></figure><figure name="5970" id="5970" class="graf graf--figure graf--iframe graf-after--figure"><iframe src="https://www.youtube.com/embed/vFObL88bfzk?feature=oembed" width="700" height="393" frameborder="0" scrolling="no"></iframe><figcaption class="imageCaption">LLama3.2 is super fast!</figcaption></figure><figure name="2e77" id="2e77" class="graf graf--figure graf--iframe graf-after--figure"><iframe src="https://www.youtube.com/embed/RuY0OBghiQs?feature=oembed" width="700" height="393" frameborder="0" scrolling="no"></iframe><figcaption class="imageCaption">OpenWebUI and WebSearch is powerfull combination</figcaption></figure><figure name="feaa" id="feaa" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*doUFz_YmerkUuxRuDCk5UQ.png" data-width="1024" data-height="1024" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*doUFz_YmerkUuxRuDCk5UQ.png"></figure><p name="b718" id="b718" class="graf graf--p graf-after--figure graf--trailing">Good luck and have fun!</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@jari.p.hiltunen" class="p-author h-card">Jari Hiltunen</a> on <a href="https://medium.com/p/b36d79f36366"><time class="dt-published" datetime="2024-09-10T13:22:24.461Z">September 10, 2024</time></a>.</p><p><a href="https://medium.com/@jari.p.hiltunen/openwebui-install-with-nvidia-cuda-support-and-without-docker-b36d79f36366" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on January 26, 2025.</p></footer></article></body></html>